\chapter{Entwurfsentscheidungen }
\label{ch:entwurf}

\section{Setup}

\subsubsection*{Programmiersprache}
Für die Wahl der Programmiersprache haben wir zunächst die Vorkenntnisse aller Gruppenmitglieder in verschiedenen erlernten Sprachen abgeschätzt und betrachtet welche Sprachen einen einfachen Einstieg in das Thema Machine Learning erlauben. Deshalb fiel unsere Wahl trotz geringerer Geschwindigkeit im Vergleich zu C++ auf Python, da ohne viel Vorwissen schnell ein erster funktionierender Prototyp erstellt werden kann und wir zudem unserer Kenntnisse in dieser Sprache vertiefen können.

Für Python gibt es eine Vielzahl geeigneter Entwicklungsumgebungen wie Eclipse oder Visual Studio, wir haben uns jedoch für die kostenlose Variante von PyCharm entschieden, mit der alle Gruppenmitglieder vertraut waren.


\subsubsection*{Versionsverwaltung}
Um Änderungen an Dateien und Quellcode zu erfassen und sinnvoll zu strukturieren, bietet sich aufgrund von Zusammenarbeit mehrerer Gruppenmitglieder der Einsatz einer Versionsverwaltung an. Die Wahl, mit welcher Versionsverwaltung das Projekt umgesetzt werden sollte, fiel auf Git als verteiltes System, welches wir in Form von Github nutzen. Dies hat den Grund, dass Git von der genutzten Entwicklungsumgebung PyCharm unterstützt wird und alle Mitglieder unserer Gruppe bereits Github durch vorherige Projekte vertraut waren, sodass relativ wenig Einarbeitungszeit erforderlich war. 

\subsubsection*{Hardware}
Mit dem Ansatz im Verlauf des Projektes Machine Learning zu verwenden, wurde recht schnell deutlich wie wichtig eine gute Hardware Ausrüstung ist, um gute Performance beim Training des Models und bei der Detektion zu erreichen. Während die Umsetzung auch ausschließlich mit CPU möglich ist, besticht der Einsatz von GPU mit deutlicher Geschwindigkeit. Um diesen Vorteil zu nutzen, haben wir uns entschlossen für das Training mit dem kostenlosen Cloud-Service von Google Colaboratory in Verbindung mit Google Drive zu arbeiten, der ebenfalls kostenlos GPU Nutzung ermöglicht. Dabei stehen uns 25 GB Ram und je nach Zuweisung eine Tesla T4 GPU mit ca.8 GB oder eine Tesla K80 GPU mit ca. 12 GB zur Verfügung, was einen 25-fachen Geschwindigkeitsvorteil von GPU gegenüber CPU darstellt. Passend zur Wahl der Programmiersprache arbeitet Google Colab mit Jupyter Notebooks und hat bereits die meisten Bibliotheken installiert, wobei fehlende mit Kommandozeilen Befehlen noch hinzugefügt werden können. Die Einbindung von Github Projekten in Google Colab ist ebenfalls möglich, was wir für die Nutzung der Datenbank und Machine Learning benötigten.

\section{Toolselection}
Für die Implementierung in Python wurden fachspezifische Bibliotheken eingesetzt, von denen wir die wichtigsten hier aufführen wollen
\paragraph{Pandas}
Zum lesen, sortieren und aufteilen der Datenbank haben wir die Bibliothek Pandas verwendet, die effizient in der Lage ist diese Daten zu manipulieren, zu filtern und mit fehlenden Werten umzugehen.

\paragraph{OpenCV}
Das bekannteste Computer Vision Framework OpenCV besticht mit seiner Vielzahl an Algorithmen, deren Schnelligkeit durch das C++ Backend und Benutzerfreundlichkeit durch den Python Wrapper besticht. Zum Einsatz kommt OpenCV sowohl bei der Extraktion von Frames, beim Filtern als auch durch die Zeichenfunktionen.

\paragraph{Numpy}
Für wissenschaftliche Berechnungen kam Numpy bei großen Bilddatenmengen, bei Vektorrechnungen und dem Versuch mit Ausgleichskurven zu arbeiten zum Einsatz.

\paragraph{Scipy}
Die SciPy Library bietet neben Numpy eine breite Masse an verschiedensten mathematischen Werkzeugen und numerischen Algorithmen. Besonders die vordefinierte Funktion für den eindimensionalen Gausfilter half beim Smoothing aller Bounding Boxen.

\paragraph{Tensorflow}
Das Framework TensorFlow bietet ein umfangreiches Grundgerüst für Machine-learning mit dem es möglich ist, auf Machine-learning basierende Programme einfach zu erstellen und zu verwenden.

\paragraph{Keras}
Ursprünglich war Keras teil der Tensorflow Core API, jedoch wird es als eigenständige Bibliothek weitergeführt. Durch eine einheitliche Schnittstelle sorgt Keras für einen erheblich einfacheren und benutzerfreundlichen Umgang mit Tensorflow. Die Kombination aus Keras und Tensorflow sorgte für einen einfachen und schnellen Einstieg in die Welt der auf Machine Learning basierenden Programme.

\paragraph{PyQt}
Für die Gestaltung der grafischen Nutzeroberfläche haben wir uns entschieden PyQt5 einzusetzen, da uns diese Bibliothek bereits aus der Programmiersprache C++ in ähnlicher Form bekannt war. Zudem besticht diese im Vergleich zu Alternativen wie TKinter durch den Ansatz die GUI vom Backend zu trennen und die Möglichkeit ein modernes Design zu erstellen.

	
\section{Machine Learning}
Da die Verwendung von Python im Bereich Machine Learning populär ist, gibt es viele Frameworks, welche die Klassifikation oder Detektion von Objekten in Bildern unterstützen.

Wir haben uns aus folgenden Gründen für Mask R-CNN \footnote{\href{https://github.com/matterport/Mask_RCNN}{Mask R-CNN Github Projekt}} entschieden:
\begin{itemize}
	\item \textbf{Zuverlässige Detektion:}

Auch unter schwierigen Bedingungen verspricht M-RCNN eine präzise, zuverlässige Detektion. Auch wenn die Geschwindigkeit nicht an Alternativen wie YOLO heranreicht, ist die Qualität der Klassifikation und Detektion immer sehr hoch.
	\item \textbf{Leichter Einstieg:}

Auch wenn es subjektiv (noch) nicht so weit verbreitet ist wie YOLO fanden sich zwar wenige - dafür aber sehr gute Quellen zum Einstieg inklusive Tutorials und jupyter notebooks im Git repository der Entwickler.
	\item \textbf{Segmentierung:}

M-RCNN kann Segmentierungsmasken berechnen, mit denen wir die Qualität unseres Models gut beurteilen konnten.
Auch wenn wir die Masken letztendlich noch nicht verwendet haben, erschien es uns als sehr vorteilhaft, diesen Trumpf in der Hinterhand zu haben.
	\item \textbf{Interesse:}

Beim Stöbern haben wir gesehen, dass M-RCNN ein relativ neues Verfahren ist.
In dem Wissen, dass die meisten anderen Gruppen sich für YOLO entscheiden würden, sind wir nicht zuletzt auch deshalb den Weg mit M-RCNN gegangen, um zu herauszufinden, wie es sich im Vergleich zu YOLO verhält. Sinn und Ziel des Praktikums ist es ja auch gewesen, Neues auszuprobieren, zu experimentieren und aktuelle Verfahren sowie state-of-the-art-Techniken kennenzulernen.

\end{itemize}
